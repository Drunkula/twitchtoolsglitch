<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <title>Youtube Player</title>
    <style>
        li {
            cursor: pointer;
        }
        li:hover {
            background-color: bisque;
        }
        html, .table, .section {
            background-color: darkblue;
            color: antiquewhite;
        }
    </style>
    <script>
        "use strict"
        function out() {
            var nDiv = document.createElement("div");
            nDiv.innerText = [...arguments].join("");
            document.getElementById("messages").append(nDiv);
        }

            // updated by grab_url_params
        var ytparams =
        {
            playlist: "debug",
            chatadd: false,
            chatcmds: false,
            nan: false,
            shuffle: null, // default of list
            name: "Debug Player",
            XSize: 320,
            YSize: 180,
            autoratio: false,
            muted: true,
            volume: 20,
            videoId: "LECSVlc6O1g",
            webSock: null,
            ytdbg: true,    // whether logging is on
            obs: "unsetdebug"
        }

            // real version doesn't need logging - set in ytplayer.main.mod.js
        function clog() {
            console.log(...arguments);
        }


    </script>

    <script src="./ytplayer.main.mod.js" type="module"></script>
    <!-- if you don't defer it doesn't work even if the controller is run first
        You pretty much have to have the callback it triggers in place
        <script src="https://www.youtube.com/iframe_api" defer></script>
    -->
</head>
<body>
    <div class="section">

    <!-- I'm going to have to put in a fucking table -->
    <table class="table">
        <tr>
            <td><div id="ytplayer"><h2>YOUTUBE PLAYER</h2></div></td>
            <td>
                <div class="controls">
                    <ul>
                        <li data-action="next">next()</li>
                        <li data-action="prev">prev()</li>
                        <li data-action='{"action":"fwd", "data":30}'>fwd(30)</li>
                        <li data-action='{"action":"rwd", "data":5}'>rwd(5)</li>
                        <li data-action="play">Play</li>
                        <li data-action="pause">Pause</li>
                        <li data-action="stop">Stop</li>
                        <li data-action="restart">Restart</li>

                        <li data-action="almostend">toward end</li>
                    </ul>
                </div>
            </td>
            <td>
                <div class="controls">
                    <ul>
                        <li data-action="bigWidescreen">Big 16:9</li>
                        <li data-action="big43">Big 4:3</li>
                        <li data-action="smallWidescreen">Small 16:9</li>
                        <li data-action="small43">Small 4:3</li>
                        <li data-action="getvideoinfo">Video Info</li>
                        <li data-action="title">Title</li>
                        <li data-action="clearvideos">Clear Videos</li>
                        <li data-action="qualityget">Qualities</li>
                    </ul>
                </div>
            </td>

            <td>
                <div class="controls">
                    <ul>
                        <li data-action="shuffle">Shuffle (not all)</li>
                        <li data-action="shuffleall">Shuffle all</li>
                        <li data-action="connect">Connect Socket</li>
                        <li data-action="disconnect">Disconnect Socket</li>
                        <li data-action='{"action":"sendmessage", "data": "loadplaylist"}'>load_playlist(default)</li>

                        <li data-action='loadplaylist'>load_playlist(from url)</li>

                        <li data-action='{"action":"sendmessage", "data": "saveplaylist"}'>save_playlist()</li>
                        <li data-action="getplayerplaylist">Send whole playlist</li>
                    </ul>
                </div>
            </td>

            <td>
                <div class="controls">
                    <ul>
                        <li data-action="volup">volume up</li>
                        <li data-action="voldown">volume down</li>
                        <li data-action="mutetoggle">Mute/Unmute</li>
                        <li data-action="adddefaults">adddefaults</li>
                    </ul>
                </div>
            </td>

        </tr>
    </table>

    <div id="messages" class="block"></div>

    </div>

</body>
</html>
<!--
Things to hide

ytp-chrome-top ytp-show-cards-title
ytp-title
    ytp-watermark


    ytp-channel-title-logo

-->